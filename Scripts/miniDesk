#!

# backup current settings
backupDir=~/Desktop.backup
mkdir -p $backupDir
if [ ! -e $backupDir/panel ] ; then
	cp ~/.config/lxpanel/LXDE-pi/panels/panel $backupDir
fi
if [ ! -e $backupDir/desktop-items-0.conf ] ; then
	cp ~/.config/pcmanfm/LXDE-pi/desktop-items-0.conf $backupDir
fi
if [ ! -e $backupDir/libfm.conf ] ; then
	if [ -e ~/.config/libfm/libfm.conf ] ; then
		cp ~/.config/libfm/libfm.conf $backupDir
	fi
fi


# clear top menu panel
cat <<! >~/.config/lxpanel/LXDE-pi/panels/panel
# lxpanel <profile> config file. Manually editing is not recommended.
# Use preference dialog in lxpanel to adjust config when you can.

Global {
  edge=top
  allign=left
  margin=0
  widthtype=percent
  width=100
  height=36
  transparent=0
  tintcolor=#000000
  alpha=0
  autohide=0
  heightwhenhidden=2
  setdocktype=1
  setpartialstrut=1
  usefontcolor=0
  fontsize=12
  fontcolor=#ffffff
  usefontsize=0
  background=0
  backgroundfile=/usr/share/lxpanel/images/background.png
  iconsize=36
}
Plugin {
  type=space
  Config {
    Size=4
  }
}
Plugin {
  type=menu
  Config {
    image=/usr/share/raspberrypi-artwork/launch.png
    item {
      name=Shutdown...
      image=system-shutdown
      command=logout
    }
  }
}
Plugin {
  type=space
  Config {
    Size=8
  }
}
Plugin {
  type=taskbar
  expand=1
  Config {
    tooltips=1
    IconsOnly=0
    ShowAllDesks=0
    UseMouseWheel=1
    UseUrgencyHint=1
    FlatButton=0
    MaxTaskWidth=200
    spacing=1
    GroupedTasks=0
  }
}
Plugin {
  type=space
  Config {
    Size=2
  }
}
Plugin {
  type=tray
  Config {
  }
}
Plugin {
  type=space
  Config {
    Size=2
  }
}
Plugin {
  type=dhcpcdui
  Config {
  }
}
Plugin {
  type=dclock
  Config {
    ClockFmt=%R
    TooltipFmt=%A %x
    BoldFont=0
    IconOnly=0
    CenterText=0
  }
}
!

# remove trashcan icon
cat <<! >~/.config/pcmanfm/LXDE-pi/desktop-items-0.conf
[*]
wallpaper_mode=crop
wallpaper_common=1
wallpaper=/usr/share/pixel-wallpaper/road.jpg
desktop_bg=#d6d3de
desktop_fg=#e8e8e8
desktop_shadow=#d6d3de
desktop_font=Roboto Light 12
show_wm_menu=0
sort=mtime;ascending;
show_documents=0
show_trash=0
show_mounts=0
!

# enable single click
cat <<! >~/.config/libfm/libfm.conf
# Configuration file for the libfm version 1.2.3.
# Autogenerated file, don't edit, your changes will be overwritten.

[config]
single_click=1
use_trash=1
confirm_del=1
confirm_trash=1
advanced_mode=0
si_unit=0
force_startup_notify=1
backup_as_hidden=1
no_usb_trash=1
no_child_non_expandable=0
show_full_names=0
only_user_templates=0
template_run_app=0
template_type_once=0
auto_selection_delay=600
drop_default_action=auto
defer_content_test=0
quick_exec=0
show_internal_volumes=0
terminal=x-terminal-emulator %s
archiver=xarchiver
thumbnail_local=1
thumbnail_max=2048
smart_desktop_autodrop=1

[ui]
big_icon_size=48
small_icon_size=24
pane_icon_size=24
thumbnail_size=128
show_thumbnail=1
shadow_hidden=0

[places]
places_home=1
places_desktop=1
places_root=0
places_computer=0
places_trash=1
places_applications=1
places_network=0
places_unmounted=1
!


